##
## Build with CircleCI
##
## https://circleci.com/gh/optimizationBenchmarking/utils-graphics
#

machine:
# Install the newest version of ant.
  pre:
# Install ant 1.9.6 as described at
# http://www.askubuntu.com/questions/674328/
  - sudo apt-get -y purge ant
  - wget http://archive.apache.org/dist/ant/binaries/apache-ant-1.9.6-bin.tar.gz
  - tar -xvzf apache-ant-1.9.6-bin.tar.gz
  - sudo mv apache-ant-1.9.6 /opt/
  - rm -f apache-ant-1.9.6-bin.tar.gz
  - sudo ln -s /opt/apache-ant-1.9.6/bin/ant /usr/bin/ant
  - echo "export ANT_HOME=\"/opt/apache-ant-1.9.6\"" >> ~/.bashrc
  - echo "export ANT_OPTS=\"-Xmx2048m -XX:MaxPermSize=1024m\"" >> ~/.bashrc
  environment:
# We set the environment variable JAVA_OPTS to reduce
# the memory footprint in order to prevent unexpected
# test termination.
    JAVA_OPTS: -Xms1536m -Xmx1536m
    MAVEN_OPTS: -Xms1536m -Xmx1536m
    _JAVA_OPTIONS: -Xms1536m -Xmx1536m
    
    
# We do nothing here.
dependencies:
  override:
      
# We set a high timeout to prevent the test from being
# terminated unexpectedly.
test:
  override:
    - ant:
        timeout: 10000
        
# The branches to be ignored
general:
  branches:
    ignore:
      - gh-pages
      - documentation